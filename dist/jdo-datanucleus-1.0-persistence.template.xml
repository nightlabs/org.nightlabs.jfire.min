<?xml version="1.0" encoding="UTF-8" ?>
<persistence xmlns="http://java.sun.com/xml/ns/persistence"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/persistence 
        http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd" version="1.0">

    <persistence-unit name="${organisationID}">
        <properties>
<!-- seems not to be necessary
			<property name="javax.jdo.PersistenceManagerFactoryClass" value="org.jpox.jdo.JDOPersistenceManagerFactory"/>
-->
            <property name="javax.jdo.option.ConnectionFactoryName" value="${datasourceJNDIName_absolute_xa}"/>
            <property name="javax.jdo.option.ConnectionFactory2Name" value="${datasourceJNDIName_absolute_noTx}"/>

<!-- direct connection doesn't work at all and we don't want it anyway (we want to use the managed connections)
            <property name="javax.jdo.option.ConnectionDriverName" value="${databaseDriverName_localTx}"/>
            <property name="javax.jdo.option.ConnectionDriverURL" value="${databaseURL}"/>
            <property name="javax.jdo.option.ConnectionUserName" value="${databaseUserName}"/>
            <property name="javax.jdo.option.ConnectionPassword" value="${databasePassword}"/>
-->

            <property name="datanucleus.connection.resourceType" value="JTA"/>

            <property name="datanucleus.storeManagerType" value="rdbms"/>

            <property name="datanucleus.NontransactionalRead" value="true"/>

            <property name="datanucleus.autoCreateSchema" value="true"/>
            <property name="datanucleus.autoCreateTables" value="true"/>
            <property name="datanucleus.autoCreateColumns" value="true"/>
            <property name="datanucleus.autoCreateConstraints" value="true"/>
<!--
            <property name="datanucleus.autoStartMechanism" value="XML"/>
            <property name="datanucleus.autoStartMechanismXmlFile" value="${deploymentDescriptorDirectory}/datanucleus-auto-start.xml"/>
-->
            <property name="datanucleus.rdbms.stringDefaultLength" value="255"/>

            <property name="datanucleus.cache.level2" value="false"/>
            <property name="datanucleus.persistenceByReachabilityAtCommit" value="false"/>

			<property name="datanucleus.rdbms.query.resultSetType" value="scroll-insensitive"/>
        </properties>
    </persistence-unit>

</persistence>